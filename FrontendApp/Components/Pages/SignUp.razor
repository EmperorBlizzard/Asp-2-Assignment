@page "/SignUp"
@using System.ComponentModel.DataAnnotations
@using FrontendApp.ViewModels

<section class="signup">
    <div class="container">
        <div class="top-nav">
            <i class="fa-solid fa-chevron-left"></i>
            <h4>Sign up</h4>
        </div>
        <div class=""></div>
        <EditForm EditContext="editContext" OnSubmit="HandleSubmit" FormName="SignUp">
            <DataAnnotationsValidator />
            
            <h1>Sign Up</h1>
            <div class="form-firstname input-group">
                <label  for="Form.FirstName">FIRST NAME</label>
                <InputText @bind-Value="Form.FirstName" id="Form.FirstName"/>
            </div>
            <ValidationMessage For="@(() => Form.FirstName)" />
            <div class="form-lastname input-group">
                <label for="Form.LastName">LAST NAME</label>
                <InputText @bind-Value="Form.LastName" id="Form.LastName" />
            </div>
            <ValidationMessage For="@(() => Form.LastName)" />
            <div class="form-email input-group">
                <label for="Form.Email">EMAIL</label>
                <InputText type="email" @bind-Value="Form.Email" id="Form.Email" />
            </div>
            <ValidationMessage For="@(() => Form.Email)" />
            <div class="form-password input-group">
                <label for="Form.Password">PASSWORD</label>
                <InputText type="password" @bind-Value="Form.Password" id="Form.Password" />               
            </div>
            <ValidationMessage For="@(() => Form.Password)" />
            <div class="form-confirm input-group">
                <label for="Form.ConfirmPassword">CONFIRM PASSWORD</label>
                <InputText type="password" @bind-Value="Form.ConfirmPassword" id="Form.ConfirmPassword" />              
            </div>
            <ValidationMessage For="@(() => Form.ConfirmPassword)" />
            <button class="btn btn-main" type="submit">Sign Up</button>

        </EditForm>

        <p class="have-account font-16">Already have an account? <a href="#">Sign in.</a></p>

        <div class="socials">
            <a class="facebook" href="./facebook.html">
                <i class="fa-brands fa-facebook-f"></i>
            </a>
            <a class="twitter" href="#">
                <i class="fa-brands fa-twitter"></i>
            </a>
            <a class="google" href="#">
                <i class="fa-brands fa-google-plus-g"></i>
            </a>

        </div>

    </div>
</section>

        



@code {
    [SupplyParameterFromForm]
    private SignUpViewModel Form { get; set; } = null!;
    private EditContext? editContext;
    private string ErrorMessage = "";
    private string AlertDisplayCss = "collapse"; 

    protected override void OnInitialized()
    {
        base.OnInitialized();
        {
            Form = new SignUpViewModel();
            editContext = new EditContext(Form);
        }
    }
    private void ValidateField (ChangeEventArgs e)
    {

        editContext!.Validate();
    }


    private async Task HandleSubmit()
    {
        if (Form != null)
        {
            try
            {

            }
            catch
            {
                
            }
        }

    }
}
